package com.annotation.domains;

import java.lang.reflect.Field;
import java.lang.reflect.Method;

import com.annotation.utils.Table;

public class UsingAnnotations {
	
	@Table(name="newTable")
	public String getTable(){
		String tableName = "oldTable";
		Class<?> clsRef = this.getClass();

		try {
			Method annotatedMethod = clsRef.getMethod("getTable");

			Table annotationMethod = annotatedMethod.getAnnotation(Table.class);
			

			tableName = annotationMethod.name();

		} catch (Exception e) {
			e.printStackTrace();
		}
		return tableName;
	}
	
	@Table(name="select * from table")
	public String selectQuery(){
		String query = "oldTable";
		Class<?> clsRef = this.getClass();

		try {
			Method annotatedMethod = clsRef.getMethod("selectQuery");

			Query annotationMethod = annotatedMethod.getAnnotation(Query.class);
			

			query = annotationMethod.name();

		} catch (Exception e) {
			e.printStackTrace();
		}
		return query;
	}
	

}
